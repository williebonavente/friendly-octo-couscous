"use strict";var e,r=require("cst"),t=require("fs"),o=require("path"),a=(e=require("yargs"))&&"object"==typeof e&&"default"in e?e.default:e,n=["VariableDeclarator","FunctionDeclaration","ClassDeclaration"],s={};function i(e){for(var r="",t=0;t<e.length;t++){var o=Math.random()<.5?"toUpperCase":"toLowerCase";r+=e[t][o]()}return r}function l(){var e=[" ","  ","\t","\t\t","\t "];return e[Math.floor(Math.random()*e.length)]}function c(e){var t,o=function(e){for(var r=e.split("\n"),t=0;t<r.length;t++){var o=r[t].trim();if(""!==o){var a=l();r[t]=a+o}}return r.join("\n")}(e),a=(new r.Parser).parse(o);return(t=a).selectTokensByType("Identifier").forEach((function(e){if("FunctionDeclaration"===e.parentElement.parentElement.type&&!s[e.value]){var r=i(e.value);s[e.value]=r}})),t.selectTokensByType("Identifier").forEach((function(e){try{if(n.includes(e.parentElement.parentElement.type)){if(!s[e.value]){var r=i(e.value);s[e.value]=r}var t=s[e.value];e.value=t,e._sourceCode=t,e._sourceCodeLines=[t]}else{var o=s[e.value]||e.value;e.value=o,e._sourceCode=o,e._sourceCodeLines=[o]}}catch(e){}})),function(e){e.selectTokensByType("Punctuator").forEach((function(e){try{var t=l(),o=e.getPreviousToken();if(o.isWhitespace)o.value=t,o._sourceCode=t,o._sourceCodeLines=[t];else{var a=new r.Token("Whitespace",t);e.parentElement.insertChildBefore(a,e)}}catch(e){}}))}(a),a.getSourceCode()}var u=a.usage("Usage: shittier [options] <input> <output>").option("h",{alias:"help",describe:"Show help",type:"boolean"}).option("f",{alias:"force",describe:"Overwrite the output file if it already exists",type:"boolean"}).help("h").argv;u.help&&(a.showHelp(),process.exit(0));var f=u._[0],p=u._[1]||f;[".js"].includes(o.extname(f.toString()).toLowerCase())||(console.error("‚ùå ERROR: Unsupported file type. Only JavaScript files are supported currently."),process.exit(1));try{t.writeFileSync(p,c(t.readFileSync(f,"utf-8")),{encoding:"utf-8",flag:u.force||f===p?"w":"wx"}),console.log("Your code has been successfully shittified. üéâ")}catch(e){e instanceof Error&&(e.message.includes("EEXIST")?console.log("‚ùå ERROR: "+p+" already exists. Use --force to override"):e.message.includes("ENOENT")?console.error("‚ùå ERROR: Invalid file path!"):"SyntaxError"===e.name&&console.log("‚ùå ERROR: Can't parse file. Looks like "+f+" has syntax errors!"))}
//# sourceMappingURL=shittier.cjs.production.min.js.map
